"use strict";var optionmsg=document.getElementById("error-msg"),hajime_btn=document.getElementById("hajime_btn"),turnPlarer=1,player=document.getElementById("turn-player");player.textContent="黒のターンです";var errorMsg="",modal=document.getElementById("myModal"),btn=document.getElementById("modalBtn"),span=document.getElementsByClassName("close")[0],game_reset_btn=document.getElementById("game_reset");function playerChange(e){1===e?player.textContent="黒のターンです":-1===e&&(player.textContent="白のターンです")}function drawPeace(e,o,n){var r=canvas2.getContext("2d"),l=e+a/2,t=o+b/2,c=.4*a;console.log(l," ",t),r.beginPath(),r.arc(l,t,c,0,2*Math.PI,!1),1===n?r.fillStyle="black":-1===n&&(r.fillStyle="white"),r.fill()}function turnStone(e,o,a,n){var r=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];console.log(turnPlarer);var l=[],t=[],c=0,s=0,g=0;console.log(peaces[e][o]),1===turnPlarer?c=-1:-1===turnPlarer&&(c=1);for(var i=0;i<8;i++)if(s=e+r[i][0],g=o+r[i][1],console.log(s," ",g),s<0||g<0||7<s||7<g)console.log(s," ",g," この座標はありません。");else if(0!==peaces[s][g])if(peaces[s][g]!==c)console.log("石色が同じです。");else{console.log(s," ",g,"石の色が違います。");var p=s,f=g;do{if(t.push([s,g]),console.log(s," ",g),p+=r[i][0],f+=r[i][1],p<0||f<0||7<p||7<f){t=[];break}s=p,g=f}while(peaces[s][g]===c);console.log(t),0===peaces[s][g]?t=[]:peaces[s][g]!==c&&0!==t.length&&(t.forEach(function(e){l.push(e)}),t=[])}else console.log(turnPlarer),console.log("座標[".concat(s,",").concat(g,"]は空です。"));if(0===l.length)return console.log(l.length,"そこに石を置いても返せる石がありません"),void errorMsgFun(errorMsg="そこ石を置いても返せる石がありません");optionmsg.textContent="",l.forEach(function(e){console.log(e[0]," ",e[1]),1===peaces[e[0]][e[1]]?(console.log(peaces),peaces[e[0]][e[1]]=-1,console.log(e[0]," ",e[1]," ",peaces[e[0]][e[1]])):-1===peaces[e[0]][e[1]]&&(console.log(peaces[e[0]][e[1]]),console.log(e[0]," ",e[1]," ",peaces[e[0]][e[1]]),peaces[e[0]][e[1]]=1)}),1===turnPlarer?peaces[e][o]=1:-1===turnPlarer&&(peaces[e][o]=-1),console.log(peaces),drawPeace(a,n,turnPlarer),playerChange(turnPlarer=c),console.log("次は",turnPlarer,"の番です。"),peacePraceReturn(l),console.log(turnPlarer),l=[]}function peacePraceReturn(e){console.log(peaces),e.forEach(function(e){console.log(e[0]," ",e[1]," ",peaces[e[0]][e[1]]);var o=a*e[1],n=a*e[0],r=canvas2.getContext("2d"),l=o+a/2,t=n+b/2,c=.4*a;r.beginPath(),r.arc(l,t,c,0,2*Math.PI,!1),1===peaces[e[0]][e[1]]?r.fillStyle="black":-1===peaces[e[0]][e[1]]&&(r.fillStyle="white"),r.fill(),winnerCheck()})}function winnerCheck(){var e=0;e:for(var o=0;o<8;o++)for(var a=0;a<8;a++){if(1===peaces[o][a]){e=1;break e}if(-1===peaces[o][a]){e=-1;break e}}e:for(var n=0;n<8;n++)for(var r=0;r<8;r++)if(peaces[n][r]!==e&&0!==peaces[n][r]){console.log(n," ",r,"石が埋まっていませんゲームを続行してください"),e=0;break e}if(0!==e)console.log("石が全て",e,"で埋まりました。");else for(var l=0;l<8;l++)for(var t=0;t<8;t++)1===peaces[l][t]?0:-1===peaces[l][t]&&0}function errorMsgFun(e){optionmsg.textContent=e,optionmsg.style.color="red",errorMsg=""}function resetGame(){console.log("gfas"),playerChange(turnPlarer=1);for(var e=0;e<8;e++)for(var o=0;o<8;o++)peaces[e][o]=0;var a=canvas1.getContext("2d"),n=canvas2.getContext("2d");a.clearRect(0,0,width,height),n.clearRect(0,0,width,height),drawBoard()}hajime_btn.addEventListener("click",function(){modal.style.display="block"}),game_reset_btn.addEventListener("click",function(){resetGame(),modal.style.display="none"}),canvas2.addEventListener("click",function(e){console.log(turnPlarer);for(var o=!1,n=0;n<8;n++){console.log("iは".concat(n));for(var r=0;r<8;r++){var l=a*r,t=a*n;if(console.log("jは".concat(r)),l<e.layerX&&l+a>e.layerX&&(console.log("X軸は".concat(e.layerX,"の位置をクリックしました")),t<e.layerY&&t+b>e.layerY)){if(console.log("Y軸は".concat(e.layerY,"の位置をクリックしました")),0!==peaces[n][r])return console.log("クリック位置[".concat(n,",").concat(r,"]には既に石があります")),void errorMsgFun(errorMsg="クリック位置には既に石があります");console.log(l," ",t),o=!0,console.log(l,"< おいた石 <",l+a),console.log(t,"< おいた石 <",t+b),turnStone(n,r,l,t)}}if(o)break}});
//# sourceMappingURL=play.min.js.map
